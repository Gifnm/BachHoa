<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/pages/admin/layout:: dynamic(~{::title},~{::body})}">

<head>
  <title>Thống kê - Bachhoa Admin</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>

<body ng-app="app" ng-controller="ctrl">
  <div class="d-sm-flex align-items-center justify-content-between align-items-start pb-3 border-bottom"
    style="border-radius: 1rem 1rem 0 0;">
    <div>
      <b class="fs-4">Thống kê</b>
    </div>
    <div class="form-check form-switch">
      <!-- <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="option1" checked> -->
      <div class="input-group">
        <span class="input-group-text">Ngày bắt đầu & Ngày kết thúc</span>
        <input class="form-control" type="date" ng-model="startDateSelected" ng-change="updateDataRevenueChart()">
        <input class="form-control" type="date" ng-model="endDateSelected" ng-change="updateDataRevenueChart()">
      </div>
    </div>
    <div class="d-flex align-items-center">
      <div class="ms-3">
        <a href="#" class="btn btn-primary rounded-pill d-flex align-items-center"><span
            class="material-symbols-outlined me-2">
            file_save
          </span> Excel</a>
      </div>
      <!-- <div class="form-check form-switch">
        <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2" value="option2">
        <div class="">
          <select class="form-select">
            <option>Hôm nay</option>
            <option>Tuần này</option>
            <option>Tháng này</option>
            <option>Năm nay</option>
          </select>
        </div>
      </div> -->
    </div>
  </div>

  <main class="overflow-auto flex-grow-1">
    <div class="py-3 d-flex">
      <div class="col">
        <div class=" rounded-4 p-4 bg-light">
          <span>Tổng doanh thu</span>
          <div class="d-sm-flex align-items-center justify-content-between mt-3">
            <h4 class="text-success fw-bold">{{totalRevenue | currency:'₫ ':'0'}}</h4>
            <!-- <p class="text-success">(+1.37%)</p> -->
          </div>
        </div>
      </div>
      <div class="col ms-3">
        <div class=" rounded-4 p-4 bg-light">
          <span>Lợi nhuận</span>
          <div class="d-sm-flex align-items-center justify-content-between mt-3">
            <h4 class="text-primary fw-bold">{{totalProfit | currency:'₫ ':'0'}}</h4>
            <!-- <p class="text-danger"><span>-0.5%</span></p> -->
          </div>
        </div>
      </div>
      <div class="col ms-3">
        <div class=" rounded-4 p-4 bg-light">
          <span>Chi phí</span>
          <div class="d-sm-flex align-items-center justify-content-between mt-3">
            <h4 class="fw-bold">{{totalCost | currency:'₫ ':'0'}}</h4>
            <!-- <p class="text-danger"><span>-0.5%</span></p> -->
          </div>
        </div>
      </div>
      <div class="col ms-3">
        <div class=" rounded-4 p-4 bg-light">
          <span>Hóa đơn đã xuất</span>
          <div class="d-sm-flex align-items-center justify-content-between mt-3">
            <h3 class="fw-bold">{{billsAmount}}</h3>
            <!-- <p class="text-danger"><span>-0.5%</span></p> -->
            <a href="/admin/bill-history" class="btn btn-primary rounded-pill"><small>Chi tiết</small></a>
          </div>
        </div>
      </div>
    </div>

    <div class="d-flex">
      <div class="w-75">
        <div class=" rounded-4 p-4 bg-light">
          <div class="d-sm-flex justify-content-between align-items-start">
            <div>
              <b>Tăng trưởng doanh số</b>
            </div>
            <div>
              <select class="form-select" ng-model="mileStone" ng-change="updateDataRevenueChart()">
                <option value="month">Theo tháng</option>
                <option value="day">Theo ngày</option>
                <option value="year">Theo năm</option>
              </select>
            </div>
          </div>
          <canvas id="revenueChart"></canvas>
        </div>
      </div>
      <div class=" ms-3">
        <div class=" rounded-4 p-4 bg-light">
          <b>Tỉ trọng doanh thu</b>
          <canvas id="pieChart"></canvas>
        </div>
      </div>
    </div>

    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">First</th>
          <th scope="col">Last</th>
          <th scope="col">Handle</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">1</th>
          <td>Mark</td>
          <td>Otto</td>
          <td>@mdo</td>
        </tr>
        <tr>
          <th scope="row">2</th>
          <td>Jacob</td>
          <td>Thornton</td>
          <td>@fat</td>
        </tr>
        <tr>
          <th scope="row">3</th>
          <td colspan="2">Larry the Bird</td>
          <td>@twitter</td>
        </tr>
      </tbody>
    </table>
  </main>
  <script src="../js/adminControllers/dashboard-ctrl.js"></script>
</body>